<?xml version="1.0"?>
<ruleset name="OrangeHRM">
  <description>PHPCS rules for OrangeHRM</description>
  <arg name="extensions" value="php,inc,lib"/>
  <arg name="report" value="csv"/>
  <arg name="report-file" value="./phpcs_report.csv"/>
  <arg name="parallel" value="8"/>
  <config name="installed_paths" value="vendor/phpcompatibility/php-compatibility"/>
  <config name="testVersion" value="7.0-7.4"/>

  <file>.</file>
  <rule ref="PHPCompatibility"/>

  <exclude-pattern>symfony/cache/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/symfony/test/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/symfony/yaml/Tests/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/symfony/lib/plugins/sfDoctrinePlugin/test/functional/fixtures/apps/frontend/modules/attachment/templates/*</exclude-pattern>
  <exclude-pattern>vendor/squizlabs/*</exclude-pattern>
  <exclude-pattern>upgrader/cache/*</exclude-pattern>

  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.hrtimeFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/guzzlehttp/guzzle/src/Utils.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.Extensions.RemovedExtensions.sqliteRemoved">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/i18n/sfMessageSource_SQLite.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/cache/sfSQLiteCache.class.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.FunctionUse.RemovedFunctions.get_magic_quotes_gpcDeprecated">
    <exclude-pattern>symfony/lib/vendor/iignatov/lightopenid/openid.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.Extensions.RemovedExtensions.mysql_DeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/i18n/sfMessageSource_MySQL.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/storage/sfMySQLSessionStorage.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/database/sfMySQLDatabase.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/iignatov/lightopenid/provider/example-mysql.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.FunctionUse.ArgumentFunctionsReportCurrentValue.NeedsInspection">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/i18n/sfMessageSource_MySQL.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/storage/sfMySQLSessionStorage.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/database/sfMySQLDatabase.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/vendor/lime/lime.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.FunctionUse.ArgumentFunctionsReportCurrentValue.Changed">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/vendor/lime/lime.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/iignatov/lightopenid/openid.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.IniDirectives.RemovedIniDirectives.magic_quotes_runtimeDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/command/sfCommandApplication.class.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/lib/config/sfProjectConfiguration.class.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.IniDirectives.RemovedIniDirectives.track_errorsDeprecated">
    <exclude-pattern>symfony/lib/vendor/symfony/lib/command/sfCommandApplication.class.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.IniDirectives.RemovedIniDirectives.safe_modeDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/iignatov/lightopenid/openid.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.FunctionUse.RemovedFunctions.mcrypt_create_ivDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Crypt/Random.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.Extensions.RemovedExtensions.mcryptDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Crypt/Random.php</exclude-pattern>
  </rule>

  <rule ref="PHPCompatibility.Constants.RemovedConstants.mcrypt_dev_urandomDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Crypt/Random.php</exclude-pattern>
  </rule>

  <!--    open source start block-->
  <rule ref="PHPCompatibility.Extensions.RemovedExtensions.mcryptDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AccessToken.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AuthorizationCode.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.RemovedFunctions.mcrypt_create_ivDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AccessToken.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AuthorizationCode.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.Constants.RemovedConstants.mcrypt_dev_urandomDeprecatedRemoved">
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AccessToken.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/bshaffer/oauth2-server-php/src/OAuth2/ResponseType/AuthorizationCode.php</exclude-pattern>
  </rule>

  <exclude-pattern>symfony/lib/vendor/phpunit/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/sebastian/object-enumerator/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/sebastian/global-state/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/sebastian/diff/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/codeception/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/respect/validation/tests/*</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmBuzzPlugin/test/*</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmHelpPlugin/test/model/service/HelpConfigServiceTest.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmAdminPlugin/test/model/*</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/test/components/TextareaCellTest.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/test/ohrmWidgets/*</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/symfony/console/Tests/Helper/TableTest.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmPimPlugin/lib/form/EmployeeTerminateForm.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmAdminPlugin/lib/form/OrganizationGeneralInformationForm.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmAdminPlugin/lib/form/LocalizationForm.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmAdminPlugin/lib/form/JobTitleForm.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmAdminPlugin/lib/service/LocalizationService.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/test/authorization/manager/BasicUserRoleManagerTest.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/list/ohrmListHeaderFactory.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/role/AdminUserRoleDecorator.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/role/InterviewerUserRoleDecorator.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/role/SupervisorUserRoleDecorator.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/role/HiringManagerUserRoleDecorator.php</exclude-pattern>
  <exclude-pattern>symfony/plugins/orangehrmCorePlugin/lib/role/EssUserRoleDecorator.php</exclude-pattern>
  <exclude-pattern>symfony/apps/orangehrm/lib/form/admin/EmailConfigurationForm.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/scssphp/scssphp/src/Util.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/respect/validation/library/Rules/Callback.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/respect/validation/library/Rules/NfeAccessKey.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/monolog/monolog/src/Monolog/SignalHandler.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/monolog/monolog/tests/Monolog/SignalHandlerTest.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/monolog/monolog/tests/Monolog/Formatter/NormalizerFormatterTest.php</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/google/apiclient-services</exclude-pattern>
  <exclude-pattern>symfony/lib/vendor/google/apiclient-services</exclude-pattern>

  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sodium_crypto_box_publickey_from_secretkeyFound">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Net/SSH2.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sodium_crypto_scalarmultFound">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Net/SSH2.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sodium_memzeroFound">
    <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Net/SSH2.php</exclude-pattern>
  </rule>
  <rule ref="Internal.LineEndings.Mixed">
    <exclude-pattern>symfony/lib/vendor/symfony/polyfill-iconv/Resources/charset/*</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.RemovedFunctions.eachDeprecated">
    <!--    false-->
    <exclude-pattern>symfony/lib/vendor/guzzlehttp/promises/src/Utils.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sodium_crypto_sign_detachedFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/firebase/php-jwt/src/JWT.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sodium_crypto_sign_verify_detachedFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/firebase/php-jwt/src/JWT.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sapi_windows_vt100_supportFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/symfony/console/Output/StreamOutput.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/console/Terminal.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.sapi_windows_cp_setFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/symfony/console/Output/StreamOutput.php</exclude-pattern>
    <exclude-pattern>symfony/lib/vendor/symfony/console/Helper/QuestionHelper.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.stream_isattyFound">
    <!--    function_exists-->
    <exclude-pattern>symfony/lib/vendor/symfony/console/Output/StreamOutput.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.Lists.NewKeyedList.Found">
    <!--    test file-->
    <exclude-pattern>symfony/lib/vendor/symfony/process/Tests/ErrorProcessInitiator.php</exclude-pattern>
  </rule>
  <rule ref="PHPCompatibility.FunctionDeclarations.NewReturnTypeDeclarations.voidFound">
    <!--    test file-->
    <exclude-pattern>symfony/lib/vendor/sebastian/code-unit-reverse-lookup/tests/WizardTest.php</exclude-pattern>
  </rule>
  <!--    used in installer & upgrader -->
  <exclude-pattern>symfony/lib/vendor/phpseclib/phpseclib/phpseclib/Crypt/Base.php</exclude-pattern>
  <!--    test file-->
  <exclude-pattern>symfony/lib/vendor/symfony/console/Tests/Command/CommandTest.php</exclude-pattern>
  <!--  trait not in use-->
  <exclude-pattern>symfony/lib/vendor/monolog/monolog/src/Monolog/Handler/ProcessableHandlerTrait.php</exclude-pattern>
  <rule ref="PHPCompatibility.FunctionUse.NewFunctions.mb_chrFound">
    <!--    idn_to_utf8 & idn_to_ascii not used in application, but used in libraries -->
    <exclude-pattern>symfony/lib/vendor/symfony/polyfill-intl-idn/Idn.php</exclude-pattern>
  </rule>
  <!--    open source end block-->
</ruleset>
